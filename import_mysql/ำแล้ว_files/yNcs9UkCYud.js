if (self.CavalryLogger) { CavalryLogger.start_js(["y9zdX"]); }

__d("EgoLineClamp.react",["DOMContainer.react","LineClamp.react","Link.react","React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a,b){"use strict";g.constructor.call(this,a,b)}a.prototype.render=function(){"use strict";var a=this.props.seeMoreLink&&this.props.seeMoreText?b("React").createElement(b("Link.react"),{href:this.props.seeMoreLink,rel:this.props.theaterMode?"theater":""},this.props.seeMoreText):"\u2026";return b("React").createElement(b("LineClamp.react"),{lines:this.props.lines,disableNative:!0,lineHeight:this.props.lineHeight,customEllipsisDisableGradient:!0,customEllipsis:a},b("React").createElement(b("DOMContainer.react"),null,this.props.content))};a.propTypes={content:c.object.isRequired,lines:c.number.isRequired,lineHeight:c.number.isRequired,seeMoreLink:c.string,seeMoreText:c.string};e.exports=a}),null);
__d("FeedEgoCarousel.react",["ix","csx","cx","xuiglyph","AsyncRequest","CSS","DOM","DOMContainer.react","Image.react","InlineBlock.react","Link.react","LitestandEllipsis","React","ReactDOM","Style","XFeedEgoImpressionLoggingController","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","XUICloseButton.react","XUIText.react","emptyFunction","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(a,b){"use strict";k.constructor.call(this,a,b),this.$6=function(){this.setState({hidden:!0})}.bind(this)}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.loggedItems=new Array(this.props.items.length),this.setState({items:this.props.items,hidden:!1})};a.prototype.componentDidMount=function(){"use strict";this.$1();var a=this.state.items[this.props.initialIndex];this.$2(a,this.props.initialIndex);this.$3(this.props.initialIndex);this.$4()};a.prototype.componentDidUpdate=function(){"use strict";this.$4(),this.$1()};a.prototype.componentWillUnmount=function(){"use strict";this.$5()};a.prototype.render=function(){"use strict";__p&&__p();this.refs.carousel&&this.$5();if(this.state.hidden)return null;var a=new(b("XUICarouselAnimator"))({type:"horizontal",centered:this.props.centered,firstAndLastAligned:this.state.items.length>1}),c=null;this.state.items.length>1&&(c=[b("React").createElement(b("XUICarouselArrow.react"),{disabled:!1},b("React").createElement("div",{className:"_4idl"},b("React").createElement("div",{className:"_4idm"}),b("React").createElement("div",{className:"_4idn"},b("React").createElement(b("Image.react"),{src:g("88862")})))),b("React").createElement(b("XUICarouselArrow.react"),{disabled:!1},b("React").createElement("div",{className:"_4idl"},b("React").createElement("div",{className:"_4idm"}),b("React").createElement("div",{className:"_4idn"},b("React").createElement(b("Image.react"),{src:g("88874")}))))]);var d=null,e=null;this.props.title&&(this.props.titleSeeMoreLink&&this.props.titleSeeMoreText&&(e=b("React").createElement(b("Link.react"),{href:"#",ajaxify:this.props.titleSeeMoreLink,rel:"dialog"},b("React").createElement(b("XUIText.react"),{weight:"bold"},this.props.titleSeeMoreText))),d=b("React").createElement(b("InlineBlock.react"),{className:"_1t3m",alignv:"middle"},b("React").createElement("div",{className:"fwb _d_q"},this.props.title),e));e=this.props.showXout?b("React").createElement(b("XUICloseButton.react"),{className:"_qnz",size:"medium",onClick:this.$6}):null;return b("React").createElement("div",{className:"_1t3l"},d,e,b("React").createElement("div",{className:"_1mv9"},b("React").createElement(b("XUICarousel.react"),{ref:"carousel",animator:a,arrows:c,resizeViewport:"disabled",initialAutoplay:!1,initialIndex:this.props.initialIndex,viewportWidth:this.props.viewportWidth,viewportHeight:this.props.viewportHeight,wrapAround:this.props.wrapAround,onItemClick:function(){return b("emptyFunction")}},this.$7(this.state.items))))};a.prototype.$1=function(){"use strict";this.refs.carousel&&(this.arbiterToken=this.refs.carousel.subscribe(["animationEnd"],function(a,b){if(a==="animationEnd"){a=this.state.items[b];this.$2(a,b);this.$3(b)}}.bind(this)))};a.prototype.$5=function(){"use strict";this.refs.carousel&&this.arbiterToken&&this.refs.carousel.unsubscribe(this.arbiterToken)};a.prototype.$7=function(a){"use strict";var c=[];for(var d=0;d<a.length;d++){var e={};this.props.leftRightMargin&&(d==0&&d!=a.length-1?e={marginLeft:this.props.leftRightMargin}:d==a.length-1&&d!=0&&(e={marginRight:this.props.leftRightMargin}));c.push(b("React").createElement(b("XUICarouselItem.react"),{key:d,style:e},b("React").createElement(b("DOMContainer.react"),null,a[d])))}return c};a.prototype.$4=function(){"use strict";__p&&__p();var a=b("ReactDOM").findDOMNode(this.refs.carousel);b("requestAnimationFrame")(function(){if(a){var c=b("DOM").scry(a,"._559r");if(c.length){var d=b("Style").getFloat(c[0],"lineHeight"),e=void 0;for(var f=0;f<c.length;f++)e=b("DOM").scry(c[f],".nameText")[0],b("LitestandEllipsis").add(e,d,c[f])}}})};a.prototype.$2=function(a,c){"use strict";a=b("DOM").scry(a,"[data-ft]")[0];c=JSON.parse(a.getAttribute("data-ft"));if(!c||!c.ego_id||this.loggedItems[c.ego_id])return;a=b("XFeedEgoImpressionLoggingController").getURIBuilder().setInt("ego_id",c.ego_id).setInt("qid",c.qid).setInt("mf_story_key",c.mf_story_key).getURI();new(b("AsyncRequest"))().setURI(a).send();this.loggedItems[c.ego_id]=!0};a.prototype.$3=function(a){"use strict";var c=b("ReactDOM").findDOMNode(this.refs.carousel);c instanceof Element&&(a===0||a===this.state.items.length-1?b("CSS").matchesSelector(c,"._4ji6")||b("CSS").addClass(c,"_4ji6"):b("CSS").matchesSelector(c,"._4ji6")&&b("CSS").removeClass(c,"_4ji6"))};a.propTypes={initialIndex:c.number,viewportWidth:c.number.isRequired,viewportHeight:c.number.isRequired,centered:c.bool.isRequired,wrapAround:c.bool.isRequired,showXout:c.bool.isRequired,items:c.arrayOf(c.object),title:c.string,titleSeeMoreText:c.string,titleSeeMoreLink:c.string,leftRightMargin:c.string};e.exports=a}),null);
__d("EmbeddedVideoAPIComponent",["Arbiter","SubscriptionsHandler","XD","VideoPlayerReason"],(function(a,b,c,d,e,f){__p&&__p();var g=b("XD").UnverifiedXD;function a(a){"use strict";__p&&__p();this.$1=a;this.$2=new(b("SubscriptionsHandler"))();this.$3={playing:"startedPlaying",paused:"paused",finished:"finishedPlaying",buffering:"startedBuffering",buffered:"finishedBuffering",error:"error"};this.$2.addSubscriptions(b("Arbiter").subscribe("Connect.Unsafe.play",function(){this.$1.play(b("VideoPlayerReason").EMBEDDED_VIDEO_API)}.bind(this)),b("Arbiter").subscribe("Connect.Unsafe.pause",function(){this.$1.pause(b("VideoPlayerReason").EMBEDDED_VIDEO_API)}.bind(this)),b("Arbiter").subscribe("Connect.Unsafe.seek",function(a,b){this.$1.seek(b.target)}.bind(this)),b("Arbiter").subscribe("Connect.Unsafe.mute",function(){this.$1.mute()}.bind(this)),b("Arbiter").subscribe("Connect.Unsafe.unmute",function(){this.$1.unmute()}.bind(this)),b("Arbiter").subscribe("Connect.Unsafe.setVolume",function(a,b){this.$1.setVolume(b.volume)}.bind(this)),this.$1.addListener("stateChange",function(){if(this.$1.isState("ready")){var a={isMuted:this.$1.isMuted(),volume:this.$1.getVolume(),timePosition:this.$1.getCurrentTimePosition(),duration:this.$1.getPlaybackDuration()};this.sendVideoAPIReady(a)}else this.$1.isState("playing")?this.sendEventToSDK(this.$3.playing):this.$1.isState("paused")?this.sendEventToSDK(this.$3.paused):this.$1.isState("finished")&&this.sendEventToSDK(this.$3.finished)}.bind(this)),this.$1.addListener("updateStatus",function(a){if(a.position!==undefined){a={timePosition:a.position};this.sendStateDataForUpdateToSDK(a)}}.bind(this)),this.$1.addListener("buffering",function(){this.sendEventToSDK(this.$3.buffering)}.bind(this)),this.$1.addListener("buffered",function(){this.sendEventToSDK(this.$3.buffered)}.bind(this)),this.$1.addListener("error",function(){this.sendEventToSDK(this.$3.error)}.bind(this)),this.$1.addListener("updateMetadata",function(a){a={duration:this.$1.getPlaybackDuration()};this.sendStateDataForUpdateToSDK(a)}.bind(this)),this.$1.addListener("muteVideo",function(){var a={isMuted:!0};this.sendStateDataForUpdateToSDK(a)}.bind(this)),this.$1.addListener("unmuteVideo",function(){var a={isMuted:!1};this.sendStateDataForUpdateToSDK(a)}.bind(this)),this.$1.addListener("changeVolume",function(a){a={volume:a.volume,isMuted:a.volume===0};this.sendStateDataForUpdateToSDK(a)}.bind(this)));if(!this.$1.isState("loading")&&!this.$1.isState("fallback")){a={isMuted:this.$1.isMuted(),volume:this.$1.getVolume(),timePosition:this.$1.getCurrentTimePosition(),duration:this.$1.getPlaybackDuration()};this.sendVideoAPIReady(a)}}a.prototype.sendVideoAPIReady=function(a){"use strict";g.send({type:"onVideoAPIReady",data:JSON.stringify(a)})};a.prototype.sendEventToSDK=function(event){"use strict";g.send({type:"stateChange",state:event})};a.prototype.sendStateDataForUpdateToSDK=function(a){"use strict";g.send({type:"cachedStateUpdateRequest",data:JSON.stringify(a)})};e.exports=a}),null);