if (self.CavalryLogger) { CavalryLogger.start_js(["G\/RyI"]); }

__d("ContentSearchEvents",[],(function(a,b,c,d,e,f){e.exports={CONTENT_SEARCH:"content_search",OPEN_TRAY:"open_tray",QUERY_RESULTS_LOADED:"query_results_loaded",RESULT_SENT:"result_sent",namesByValue:{content_search:"CONTENT_SEARCH",open_tray:"OPEN_TRAY",query_results_loaded:"QUERY_RESULTS_LOADED",result_sent:"RESULT_SENT"}}}),null);
__d("MessengerPlatformQueryType",[],(function(a,b,c,d,e,f){e.exports={SEARCH:0,MEDIAFY:1,TRENDING:2,SAMPLE:3,namesByValue:["SEARCH","MEDIAFY","TRENDING","SAMPLE"]}}),null);
__d("UFISearchInput.react",["ix","cx","fbt","AbstractButton.react","AbstractTextInput.react","FlexLayout.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.componentDidMount=function(){this.focusInput()};a.prototype.render=function(){return b("React").createElement(b("FlexLayout.react"),{className:"_2pgc",align:"center",direction:"horizontal"},b("React").createElement(b("Image.react"),{className:"_2pgd",src:g("363738")}),b("React").createElement(b("AbstractTextInput.react"),{onChange:this.props.onChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:"inputField",value:this.props.value}),b("React").createElement(b("AbstractButton.react"),{labelIsHidden:!0,onClick:this.props.onClear,label:i._("Clear search"),className:(this.props.value.length===0?"hidden_elem":"")+" _2pge",image:b("React").createElement(b("Image.react"),{src:g("393092")})}))};a.prototype.focusInput=function(){this.refs.inputField.focusInput()};function a(){j.apply(this,arguments)}a.propTypes={onChange:c.func,onClear:c.func,onClick:c.func,placeholder:c.node,value:c.string.isRequired};e.exports=a}),null);
__d("XMessengerPlatformContentSearchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/content_search/",{q:{type:"String",defaultValue:""},qtype:{type:"Enum",defaultValue:0,enumType:0},resume:{type:"String",defaultValue:""},"interface":{type:"Enum",enumType:0},platform_fbids:{type:"IntVector"}})}),null);
__d("ChatContentSearch",["AsyncRequest","MessengerPlatformQueryType","XMessengerPlatformContentSearchController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getContentForQuery:function(a){var c=a.query,d=a.callback,e=a.resume,f=a.searchInterface;a=a.platformFBIDs;c=b("XMessengerPlatformContentSearchController").getURIBuilder().setString("q",c).setString("resume",e);f!=null&&c.setEnum("interface",f);a!=null&&c.setIntVector("platform_fbids",a);e=new(b("AsyncRequest"))().setURI(c.getURI()).setHandler(d);e.send();return e},getTrending:function(a,c,d){c=b("XMessengerPlatformContentSearchController").getURIBuilder().setEnum("qtype",b("MessengerPlatformQueryType").TRENDING).setString("resume",c);d!=null&&c.setEnum("interface",d);d=new(b("AsyncRequest"))().setURI(c.getURI()).setHandler(a);d.send();return d}};e.exports=a}),null);
__d("ChatContentSearchResult.react",["cx","AddCommentFlyoutSizeType","Image.react","Keys","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("React").PropTypes;var i=274,j=308,k=137,l=152;c=babelHelpers.inherits(m,b("React").PureComponent);h=c&&c.prototype;function m(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a.stopPropagation(),this.props.onClick(this.props.result)}.bind(this),this.$2=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),this.props.onClick(this.props.result))}.bind(this),c}m.isWide=function(a){a=a.media.preview;return a.width>a.height*1.2};m.getScaledDimensions=function(a,b,c){a=a.media.preview;var d=a.height;a=a.width;var e=c?l:k;c=c?j:i;b=(b?c:e)/a;d*=b;a*=b;return{height:d,width:a}};m.prototype.render=function(){var a=m.getScaledDimensions(this.props.result,this.props.isWide,this.props.size==="large");return b("React").createElement(b("Image.react"),{className:"_358"+(this.props.isWide?" _26n6":""),onClick:this.$1,onKeyDown:this.$2,src:this.props.src,style:a,tabIndex:"0"})};m.propTypes={isWide:a.bool.isRequired,onClick:a.func.isRequired,result:a.object.isRequired,src:a.string.isRequired,size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType")))};m.defaultProps={size:b("AddCommentFlyoutSizeType").SMALL};e.exports=m}),null);
__d("ChatContentSearchResults.react",["AddCommentFlyoutSizeType","ChatContentSearch","ChatContentSearchResult.react","MercuryConfig","MessengerPlatformInterfaceType","MessengerSpinner.react","ReactComponentWithPureRenderMixin","React","ScrollableArea.react","debounce","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g={};function h(a){return a.replace(/^httpss/,"https")}c=b("React").createClass({displayName:"ChatContentSearchResults",_inflightRequest:undefined,_requestResults:b("emptyFunction"),_reset:b("emptyFunction"),_inflightTimeStart:undefined,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{onResultsLoaded:a.func,onSelect:a.func.isRequired,query:a.string.isRequired,searchInterface:a.oneOf([b("MessengerPlatformInterfaceType").UNKNOWN_INTERFACE,b("MessengerPlatformInterfaceType").FB_INTERFACE,b("MessengerPlatformInterfaceType").MESSENGER_INTERFACE,b("MessengerPlatformInterfaceType").FB_POST_INTERFACE]),size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType"))),platformFBIDs:a.array},getInitialState:function(){return{isLoading:!1,response:null,results:[]}},getDefaultProps:function(){return{size:"small"}},componentDidMount:function(){this._reset=b("debounce")(this._resetImpl,100),this._requestResults=b("debounce")(this._requestResultsImpl,200),this._requestResults()},componentWillUnmount:function(){this._cancelInflightRequest()},UNSAFE_componentWillReceiveProps:function(a){a.query!==this.props.query&&this._reset(this._requestResultsImpl)},render:function(){return b("React").createElement(b("ScrollableArea.react"),{fade:!0,onScroll:this._handleScroll,ref:"scrollable"},this._renderResults(),this._renderLoadingIndicator())},_renderLoadingIndicator:function(){return!this.state.isLoading?null:b("React").createElement("div",{style:{marginTop:this.state.response?"10px":"140px",textAlign:"center"}},b("React").createElement(b("MessengerSpinner.react"),{color:"grey",size:b("MessengerSpinner.react").medium_size}))},_requestResultsImpl:function(){this._cancelInflightRequest();this._inflightTimeStart=Date.now();if(this.state.response&&(!this.state.response.resultNextCursor||!this.props.query))return;var a;void 0;this.setState({isLoading:!0});this.props.query?a=b("ChatContentSearch").getContentForQuery({query:this.props.query,resume:this.state.response?this.state.response.resultNextCursor:undefined,callback:this._handleAsyncResponse,searchInterface:this.props.searchInterface,platformFBIDs:this.props.platformFBIDs}):a=b("ChatContentSearch").getTrending(this._handleAsyncResponse,this.state.response?this.state.response.resultNextCursor:undefined,this.props.searchInterface);this._inflightRequest=a},_handleAsyncResponse:function(a){this._inflightRequest===a.request&&(g=babelHelpers["extends"]({},g,a.payload.attribution),this.setState({isLoading:!1,response:a.payload,results:a.payload.resultGroup[0]?this.state.results.concat(a.payload.resultGroup[0].results):this.state.results},function(){this._inflightTimeStart&&(this.props.onResultsLoaded&&this.props.onResultsLoaded(Date.now()-this._inflightTimeStart),delete this._inflightTimeStart)}.bind(this)),delete this._inflightRequest)},_cancelInflightRequest:function(){this.setState({isLoading:!1}),this._inflightRequest&&(this._inflightRequest.abort(),delete this._inflightRequest,delete this._inflightTimeStart)},_renderResults:function(){return!this.state.response||!this.state.results.length?null:this.state.results.map(function(a,c){var d=b("ChatContentSearchResult.react").isWide(a);if(!d&&a.platformFBID.toString()!==b("MercuryConfig").MessengerAppID){var e=c-this._getPrevWideIndex(c),f=this._getNextWideIndex(c)-c;d=(e<=1||e%2!==0)&&f<=1}return b("React").createElement(b("ChatContentSearchResult.react"),{isWide:d,key:"result:"+c+":"+a.resultID,onClick:this._handleResultClick,result:a,src:h(a.media.preview.url),size:this.props.size})}.bind(this))},_getPrevWideIndex:function(a){while(a>0){--a;if(b("ChatContentSearchResult.react").isWide(this.state.results[a]))return a}return a},_getNextWideIndex:function(a){var c=this.state.results.length;while(a<c-1){++a;if(b("ChatContentSearchResult.react").isWide(this.state.results[a]))return a}return a},_handleResultClick:function(a){this.props.onSelect(a,g[a.platformFBID])},_handleScroll:function(){this._isScrolledNearBottom()&&!this._inflightRequest&&this._requestResults()},_isScrolledNearBottom:function(){var a=this.refs.scrollable.getArea();return!!(a&&a.distanceToBottom()<=50)},_resetImpl:function(a){this.setState(this.getInitialState(),a)}});e.exports=c}),null);
__d("ChatContentSearchTrendingIndicator.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a)}a.prototype.shouldComponentUpdate=function(a){return a.shown!==this.props.shown};a.prototype.render=function(){return this.props.shown?b("React").createElement("div",{className:"_515"},b("React").createElement(b("Image.react"),{src:i("28005")}),h._("Trending")):null};e.exports=a}),null);
__d("ChatContentSearchFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","BanzaiLogger","ContentSearchEvents","ChatContentSearchResults.react","ChatContentSearchTrendingIndicator.react","Keys","MessengerPlatformInterfaceType","MessengerSearchInput.react","React","ReactDOM","MercuryShareAttachmentRenderLocations","UFISearchInput.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=" ",k=/\s+/g,l=b("MercuryShareAttachmentRenderLocations").COMPOSER,m=b("MercuryShareAttachmentRenderLocations").MESSENGER,n="406655189415060";d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={query:this.props.query,viewerEnteredText:!1},this.$6=function(a){this.setState({query:a.target.value,viewerEnteredText:a.target.value.length>0})}.bind(this),this.$1=function(a){return(a||"").trim().replace(k,j).toLowerCase()},this.$2=function(a){a.keyCode===b("Keys").ESC&&this.props.onEscKeyDown&&this.props.onEscKeyDown()}.bind(this),this.$5=function(a,c){this.props.onSelect(a,c),b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").RESULT_SENT,query:this.state.query,resultid:a.resultID})}.bind(this),this.$4=function(a){b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").QUERY_RESULTS_LOADED,query:this.state.query,inflighttime:a})}.bind(this),c}a.prototype.componentDidMount=function(){b("BanzaiLogger").log("ContentSearchLoggerConfig",{event:b("ContentSearchEvents").OPEN_TRAY,query:this.state.query}),this.refs.input&&(this.refs.input.focusInput?this.refs.input.focusInput():b("ReactDOM").findDOMNode(this.refs.input).focus())};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.viewerEnteredText||this.setState({query:a.query})};a.prototype.render=function(){var a=this.$1(this.state.query),c=this.$1(this.props.queryDefault);a=a.length===0?c:a;return b("React").createElement("div",{className:"_1er4",onKeyDown:this.$2},b("React").createElement("div",{className:"_3mtr"},this.$3()),b("React").createElement("div",{className:"_3mts"},b("React").createElement(b("ChatContentSearchResults.react"),{onResultsLoaded:this.$4,onSelect:this.$5,query:a,searchInterface:this.props.searchInterface,size:this.props.size,platformFBIDs:c.length===0?[]:[n]}),b("React").createElement(b("ChatContentSearchTrendingIndicator.react"),{shown:a.length===0})))};a.prototype.$3=function(){var a=this.props.location===m?b("MessengerSearchInput.react"):this.props.location===l?b("UFISearchInput.react"):b("XUITextInput.react");return b("React").createElement(a,{className:"_4qcs",isFocused:!0,onClick:function(a){return a&&a.stopPropagation()},onChange:this.$6,onClear:function(){this.setState({query:this.props.queryDefault||"",viewerEnteredText:!1})}.bind(this),placeholder:h._("Search GIFs across apps..."),ref:"input",value:this.state.query||""})};a.propTypes={location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onEscKeyDown:c.func,onSelect:c.func.isRequired,query:c.string,searchInterface:c.oneOf([b("MessengerPlatformInterfaceType").UNKNOWN_INTERFACE,b("MessengerPlatformInterfaceType").FB_INTERFACE,b("MessengerPlatformInterfaceType").FB_POST_INTERFACE,b("MessengerPlatformInterfaceType").MESSENGER_INTERFACE]),size:c.oneOf(Object.values(b("AddCommentFlyoutSizeType"))),queryDefault:c.string};a.defaultProps={size:b("AddCommentFlyoutSizeType").SMALL};e.exports=a}),null);
__d("MessagesEmoticons.react",["cx","fbt","Grid.react","React","ShimButton.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;var k=8,l={smile:h._("smile"),frown:h._("frown"),tongue:h._("tongue"),grin:h._("grin"),gasp:h._("gasp"),wink:h._("wink"),pacman:h._("pacman"),grumpy:h._("grumpy"),unsure:h._("unsure"),cry:h._("cry"),kiki:h._("kiki"),glasses:h._("glasses"),sunglasses:h._("sunglasses"),heart:h._("heart"),devil:h._("devil"),angel:h._("angel"),squint:h._("squint"),confused:h._("confused"),upset:h._("upset"),colonthree:h._("colonthree"),like:h._("like")};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.getEmoticons=function(){"use strict";return Object.keys(l).map(function(a){return b("React").createElement(j,{key:a},b("React").createElement("div",{className:"panelCell"},b("React").createElement(b("ShimButton.react"),{"aria-label":l[a],className:"emoticon emoticon_"+a,form:"link",onClick:function(){return this.props.onEmoticonSelect(a)}.bind(this)})))}.bind(this))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"emoticonsTable"},b("React").createElement(b("Grid.react"),{cols:k,alignv:"middle",alignh:"center",spacing:"pam"},this.getEmoticons()))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={onEmoticonSelect:c.func};a.defaultProps={onEmoticonSelect:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerStatusDonateButtonActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null},"ReactComposerStatusDonateButtonActionType")}),null);
__d("ReactComposerStatusDonateButtonStore",["ReactComposerStatusDonateButtonActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a=void 0;g.constructor.call(this,function(){return{charityName:"",fundraiserCampaignId:1,enabled:!1,textDisabled:!1,errors:!1}},function(c){__p&&__p();switch(c.type){case b("ReactComposerStatusDonateButtonActionType").SET_DONATE_CONFIG:a&&a.$ReactComposerStatusDonateButtonStore1(c);break;case b("ReactComposerStatusDonateButtonActionType").UPDATE_TITLE:a&&a.$ReactComposerStatusDonateButtonStore2(c);break;case b("ReactComposerStatusDonateButtonActionType").UPDATE_DESCRIPTION:a&&a.$ReactComposerStatusDonateButtonStore3(c);break;case b("ReactComposerStatusDonateButtonActionType").SET_DATA:a&&a.$ReactComposerStatusDonateButtonStore4(c);break;case b("ReactComposerStatusDonateButtonActionType").SET_ENABLED:a&&a.$ReactComposerStatusDonateButtonStore5(c);break;case b("ReactComposerStatusDonateButtonActionType").SET_ERRORS:a&&a.$ReactComposerStatusDonateButtonStore6(c);break;case b("ReactComposerStatusDonateButtonActionType").SET_TEXT_DISABLED:a&&a.$ReactComposerStatusDonateButtonStore7(c);break}});a=this}a.prototype.getFundraiserCampaignID=function(a){"use strict";return this.getComposerData(a).fundraiserCampaignId};a.prototype.getCharityName=function(a){"use strict";return this.getComposerData(a).charityName};a.prototype.getTitle=function(a){"use strict";return this.getComposerData(a).title};a.prototype.getDescription=function(a){"use strict";return this.getComposerData(a).description};a.prototype.getEnabled=function(a){"use strict";return this.getComposerData(a).enabled};a.prototype.getErrors=function(a){"use strict";return this.getComposerData(a).errors};a.prototype.getTextDisabled=function(a){"use strict";return this.getComposerData(a).textDisabled};a.prototype.$ReactComposerStatusDonateButtonStore1=function(a){"use strict";var b=this.validateAction(a,["composerID","config"]),c=b[0];b=b[1];c=this.getComposerData(c);c.fundraiserCampaignId=b.fundraiserCampaignId;c.charityName=b.charityName;this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore2=function(a){"use strict";var b=this.validateAction(a,["composerID","title"]),c=b[0];b=b[1];c=this.getComposerData(c);c.title=b.substring(0,60);this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore3=function(a){"use strict";var b=this.validateAction(a,["composerID","description"]),c=b[0];b=b[1];c=this.getComposerData(c);c.description=b;this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore4=function(a){"use strict";var b=this.validateAction(a,["composerID","title","description"]),c=b[0],d=b[1];b=b[2];c=this.getComposerData(c);c.title=d;c.description=b;this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore5=function(a){"use strict";var b=this.validateAction(a,["composerID","enabled"]),c=b[0];b=b[1];c=this.getComposerData(c);c.enabled=b;this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore6=function(a){"use strict";var b=this.validateAction(a,["composerID","errors"]),c=b[0];b=b[1];c=this.getComposerData(c);c.errors=b;this.emitChange(a.composerID)};a.prototype.$ReactComposerStatusDonateButtonStore7=function(a){"use strict";var b=this.validateAction(a,["composerID","textDisabled"]),c=b[0];b=b[1];c=this.getComposerData(c);c.textDisabled=b;this.emitChange(a.composerID)};e.exports=new a()}),null);
__d("ReactComposerStatusDonateButtonActions.react",["ReactComposerDispatcher","ReactComposerStatusDonateButtonActionType","ReactComposerStatusDonateButtonStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerStatusDonateButtonStore");a.prototype.setConfig=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerStatusDonateButtonActionType").SET_DONATE_CONFIG,config:c})};a.prototype.setEnabled=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,enabled:c,type:b("ReactComposerStatusDonateButtonActionType").SET_ENABLED})};a.prototype.updateTitle=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,title:c,type:b("ReactComposerStatusDonateButtonActionType").UPDATE_TITLE})};a.prototype.updateDescription=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,description:c,type:b("ReactComposerStatusDonateButtonActionType").UPDATE_DESCRIPTION})};a.prototype.setData=function(a,c,d){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,title:c,description:d,type:b("ReactComposerStatusDonateButtonActionType").SET_DATA})};a.prototype.setErrors=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,errors:c,type:b("ReactComposerStatusDonateButtonActionType").SET_ERRORS})};a.prototype.setTextDisabled=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,textDisabled:c,type:b("ReactComposerStatusDonateButtonActionType").SET_TEXT_DISABLED})};function a(){"use strict"}e.exports=new a()}),null);
__d("ReactComposerGIFToggleController.react",["cx","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","React","ReactComposerContextTypes","ReactComposerEvents","ReactComposerTaggerActions","ReactComposerTaggerType","MessengerPlatformInterfaceType","ChatContentSearchFlyout.react","XUIContextualDialog.react","ReactComposerScrapedAttachmentActions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,b("ReactComposerTaggerType").GIF,!1)}.bind(this),this.$3=function(){this.props.showFlyout&&b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)}.bind(this),this.$4=function(a){b("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,a.source.url,this.context.composerType,this.context.actorID,this.props.loggingName),b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,b("ReactComposerTaggerType").GIF,{gifData:{url:a.source.url}}),this.$3(),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{onClick:this.props.onClick||this.$1,role:"presentation"},b("React").createElement("span",{className:this.props.spanClassName,ref:"container"},this.props.children),this.$2())};a.prototype.$2=function(){return!this.props.showFlyout?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:this.props.alignment||"left",behaviors:{LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return this.refs.container}.bind(this),onBlur:this.props.onBlur||this.$3,onToggle:function(a){!a&&this.props.showFlyout&&(this.props.onBlur&&this.props.onBlur()||this.$3())}.bind(this),position:"below",shown:this.props.showFlyout,hasActionableContext:!0,width:278},b("React").createElement("div",null,b("React").createElement(b("ChatContentSearchFlyout.react"),{onEscKeyDown:this.props.onBlur||this.$3,onSelect:this.props.onSelect||this.$4,searchInterface:b("MessengerPlatformInterfaceType").FB_POST_INTERFACE,shown:this.props.showFlyout})))};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("GamesVideoPageCustomStickerPackQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1542640102525549"};c.getQueryID=function(){"use strict";return"235916530286628"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("StickersFlyoutPackSelector.react",["cx","fbt","ix","Animation","Image.react","Link.react","Locale","React","ReactDOM","RelayClassic_DEPRECATED","RelayAPIConfig","react-relay/classic/mutation/RelayMutation","RelayCompat","react-relay/classic/query/RelayQL","react-relay/classic/store/RelayStore","StickersConfig","StickersActions","StickersStoreController","StickerConstants","StickerInterfaces","XUIBadge.react","asset","emptyFunction","getObjectValues","getViewerRecordID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b("RelayCompat").MutationTypes;c=b("React").PropTypes;var m=4,n=200,o=h._("Sticker Store"),p=function(a,c){if(a.id==b("StickerConstants").SEARCH_PACK_ID)return c?i("404874"):i("415283");if(a.id==b("StickerConstants").MRU_STICKER_PACK)return c?i("430464"):i("430471");if(a.id==b("StickerConstants").EMOTICON_PACK_ID)return i("87143");return a.id==b("StickerConstants").OZ_PACK_ID?a.icon:a.thumbnail_image?a.thumbnail_image.uri:null},q=function(a){var c=a.pack,d=b("StickersConfig").search_pack?a.index===1||a.index===2:a.index===1;d="_5r8a"+(a.selected?" _5r8b":"")+(c.id==b("StickerConstants").MRU_STICKER_PACK?" _5qcj":"")+(c.id==b("StickerConstants").SEARCH_PACK_ID?" _5qck":"")+(d?" _eb3":"");var e=a.isComments&&!c.is_comments_capable&&c.id!==b("StickerConstants").MRU_STICKER_PACK&&c.id!==b("StickerConstants").SEARCH_PACK_ID&&c.id!==b("StickerConstants").EMOTICON_PACK_ID,f=h._("This pack is only available in photos"),g=h._("This pack is only available in messages"),i=e?b("emptyFunction"):function(){return a.onClick(c.id)},j=p(c,a.selected);if(j===null)return null;f=!c.is_messenger_capable&&c.is_composer_capable?f:g;return b("React").createElement(b("Link.react"),{"aria-label":e?f:c.name,className:d,"data-hover":"tooltip","data-id":c.id,"data-tooltip-content":e?f:c.name,onClick:i,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:(e?"_2ji6":"")+" _5r8c"+(b("StickersConfig").search_pack?" _1viy":""),src:j}))};q.propTypes={index:c.number,isComments:c.bool,onClick:c.func,pack:c.object.isRequired,selected:c.bool};q.defaultProps={isComments:!1,onClick:b("emptyFunction")};d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={animating:!1,page:0},this.$10=function(){this.$8()&&this.$4(this.state.page-1,n)}.bind(this),this.$11=function(){this.$9()&&this.$4(this.state.page+1,n)}.bind(this),this.$12=function(){b("StickersStoreController").showStore(null,this.props.stickerInterface==b("StickerInterfaces").COMPOSER),b("react-relay/classic/store/RelayStore").commitUpdate(new r({actor_id:b("RelayAPIConfig").actorID}),{onSuccess:b("emptyFunction"),onFailure:b("emptyFunction")})}.bind(this),c}a.prototype.componentDidMount=function(){if(this.props.selectedPackID)return;this.$1()};a.prototype.shouldComponentUpdate=function(a,b){return!b.animating};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(a.selectedPackID)return;this.$1()};a.prototype.onFlyoutShown=function(){if(this.$2().length>0){var a=this.$3(this.props.selectedPackID);this.state.page!==a&&this.$4(a,0)}};a.prototype.$1=function(){var a=this.$2();a.length>0?this.$5(a[0].id):b("StickersActions").trayLoaded()};a.prototype.$2=function(){var a=this.props.packs.sticker_store.tray_packs.edges.map(function(a){return a.node});b("StickersConfig").oz_pack&&a.unshift(b("StickersConfig").oz_pack);b("StickersConfig").mru_stickers_count!==0&&a.unshift(b("StickersConfig").mru_pack);b("StickersConfig").search_pack&&a.unshift(b("StickersConfig").search_pack);return a};a.prototype.$3=function(a){var b=this.$2();for(var c=0;c<b.length;c++)if(b[c].id==a)return c<=m?0:Math.floor((c-1)/m);return 0};a.prototype.$4=function(a,c){if(this.state.animating)return;this.setState({animating:!0,page:a},function(){var d=b("ReactDOM").findDOMNode(this.refs.positioner),e=this.$6(a);new(b("Animation"))(d).to(e.reference,e.offset+"px").ondone(function(){return this.setState({animating:!1})}.bind(this)).duration(c).go()})};a.prototype.$6=function(a){var c=b("ReactDOM").findDOMNode(this.refs.positioner),d=c.childNodes[a].offsetLeft;if(b("Locale").isRTL()){var e=c.offsetWidth;c=c.childNodes[a].offsetWidth;return{reference:"right",offset:d+c-e}}return{reference:"left",offset:-d}};a.prototype.$7=function(){return Math.max(1,Math.ceil((this.$2().length-1)/m))};a.prototype.$8=function(){return this.state.page>0};a.prototype.$9=function(){return this.state.page+1<this.$7()};a.prototype.render=function(){return b("React").createElement("div",{className:"_5r85"},this.$13(),this.$14(),this.$15(),b("React").createElement("div",{className:"_5r88"},b("React").createElement("div",{className:"_5r89",ref:"positioner"},this.$16())))};a.prototype.$5=function(a){b("StickersActions").selectTrayPack(a)};a.prototype.$16=function(){var a=this.$2().map(function(a,c){return b("React").createElement(q,{key:a.id,onClick:function(){return this.$5(a.id)}.bind(this),pack:a,selected:this.props.selectedPackID===a.id,index:c,isComments:this.props.stickerInterface==b("StickerInterfaces").COMMENTS})}.bind(this)),c=[];for(var d=0;d<a.length;d+=m){var e=d;d===0&&d++;c.push(b("React").createElement("div",{className:"_5r81",key:d},a.slice(e,d+m)))}return c};a.prototype.$13=function(){return b("React").createElement("a",{"aria-label":o,className:"_5r86 rfloat","data-hover":"tooltip",href:"#",onClick:this.$12,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r87",src:i("392514")}),this.$17())};a.prototype.$17=function(){return!this.props.packs.num_new_sticker_packs?null:b("React").createElement(b("XUIBadge.react"),{className:"rfloat _3fhs",count:this.props.packs.num_new_sticker_packs,maxcount:9,type:"special"})};a.prototype.$14=function(){if(!this.$8())return null;var a=b("Locale").isRTL()?i("384087"):i("409864");return b("React").createElement(b("Link.react"),{className:"_37wu lfloat",onClick:this.$10,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r84",src:a}))};a.prototype.$15=function(){if(!this.$9())return null;var a=b("Locale").isRTL()?i("409864"):i("384087");return b("React").createElement(b("Link.react"),{className:"_37wv rfloat",onClick:this.$11,role:"button",tabIndex:"0"},b("React").createElement(b("Image.react"),{className:"_5r84",src:a}))};a.propTypes={stickerInterface:c.oneOf(b("getObjectValues")(b("StickerInterfaces"))),selectedPackID:c.string};a.defaultProps={stickerInterface:b("StickerInterfaces").MESSAGES};e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{initialVariables:{stickerInterface:b("StickerInterfaces").MESSAGES},fragments:{packs:function(a){return function(){return{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"},{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e4}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallValue",callValue:20}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:20}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PacksInTrayEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelector_PacksRelayQL",type:"Viewer"}}()}}});k=babelHelpers.inherits(r,b("react-relay/classic/mutation/RelayMutation"));k&&k.prototype;r.prototype.getMutation=function(){return function(){return{calls:[{kind:"Call",metadata:{},name:"set_sticker_store_opened",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],kind:"Mutation",metadata:{inputType:"SetStickerStoreOpenedData!"},name:"StickersFlyoutPackSelector",responseType:"SetStickerStoreOpenedResponsePayload"}}()};r.prototype.getVariables=function(){return{actor_id:this.props.actor_id}};r.prototype.getFatQuery=function(){return function(){return{children:[{children:[{fieldName:"num_new_sticker_packs",kind:"Field",metadata:{},type:"Int"}],fieldName:"viewer",kind:"Field",metadata:{canHaveSubselections:!0},type:"Viewer"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutPackSelectorRelayQL",type:"SetStickerStoreOpenedResponsePayload"}}()};r.prototype.getOptimisticResponse=function(){return{viewer:{num_new_sticker_packs:0}}};r.prototype.getConfigs=function(){var a=b("getViewerRecordID")();return[{type:l.FIELDS_CHANGE,fieldIDs:a?{viewer:a}:{}}]};function r(){k.apply(this,arguments)}}),null);
__d("StickersFlyoutPackSelectorRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutPackSelectorRoute";a.paramDefinitions={stickerInterface:{required:!0,type:"String"}};a.queries={packs:function(a,c){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutPackSelectorRoute",type:"Viewer"}}(a.getFragment("packs",{stickerInterface:c.stickerInterface}))}};e.exports=a}),null);
__d("StickersFlyoutStickerSelector.react",["cx","fbt","ix","AddCommentFlyoutSizeType","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","Sticker.react","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersStateStore","StickerUtils","getObjectValues","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Grid.react").GridItem;c=b("React").PropTypes;var l=320,m=255,n=213,o=278,p=308,q=36,r=112,s=42;d=Math.ceil(b("StickerConstants").TRAY_SIZE*(window.devicePixelRatio||1));f=babelHelpers.inherits(a,b("React").Component);j=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){__p&&__p();if(this.props.stickers_for_pack||this.props.stickers_for_mru_pack){var a=this.props.stickers_for_pack?this.props.stickers_for_pack.stickers.edges:this.props.stickers_for_mru_pack.recently_used_stickers.edges;if(this.props.stickers_for_mru_pack){var c=b("StickersStateStore").getState();if(!c.get("recentStickersLoaded"))b("StickersActions").loadRecentStickers(this.props.stickers_for_mru_pack.recently_used_stickers.edges.map(function(a){return a.node}));else return this.props.recentStickers.filter(function(a){return this.$5(a)}.bind(this))}return a.filter(function(a){return this.$5(a.node)}.bind(this))}else if(this.props.stickers_for_search)return this.props.stickers_for_search.sticker_results.edges;else return null}.bind(this),this.$5=function(a){var c=this.props.stickerInterface;a=a.pack;if(c===b("StickerInterfaces").COMPOSER)return a.is_composer_capable;else if(c===b("StickerInterfaces").COMMENTS)return a.is_comments_capable;else if(c===b("StickerInterfaces").MESSAGES)return a.is_messenger_capable;else return!0}.bind(this),this.$2=function(){var a=(l-q*2-r)/2;return b("React").createElement("div",{className:"_5jdt",style:{marginTop:a+"px"}},b("React").createElement(b("Image.react"),{src:i("87146")}),b("React").createElement("p",null,h._("No Stickers to Show")))},this.$3=function(){var a=this.refs.stickerScrollable;if(a){a=a.getArea().getScrollTop();this.props.onScroll&&this.props.onScroll(a)}}.bind(this),c}a.prototype.render=function(){var a=this.$1();if(!a||a.length===0)return this.$2();var c=this.props.allowCustomStickers?s:0;c=c+(this.props.size==="small"?l:m);var d=this.props.size==="small"?this.props.allowCustomStickers?n:o:p;return b("React").createElement(b("ScrollableArea.react"),{ref:"stickerScrollable",height:this.props.height||c,onScroll:b("throttle")(this.$3,200),width:d,fade:!0},b("React").createElement("div",{className:this.props.allowCustomStickers&&this.props.size==="small"?"_1gyz":"_5r8k"},b("React").createElement(b("Grid.react"),{cols:this.props.allowCustomStickers?3:4,fixed:!0},this.$4(a))))};a.prototype.$4=function(a){return a.map(function(a){var c=a.node||a;a=c.sprite_image?c.sprite_image.uri:null;var d=c.padded_sprite_image?c.padded_sprite_image.uri:null,e=b("StickerUtils").getScaledDimensions(c.image.height,c.image.width,this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?55:90:b("StickerConstants").TRAY_SIZE);return b("React").createElement(k,{key:c.id},b("React").createElement("div",{className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_1gy-":"_2_gk":"_5r8h",onClick:function(event){return this.props.onStickerClick(c,event)}.bind(this),onKeyDown:function(event){return this.props.onStickerKeyDown(c,event)}.bind(this),role:"presentation"},b("React").createElement(b("Sticker.react"),{accessibilityLabel:c.label,animationTrigger:"hover",className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_1gy_":"_2_g-":"_5r8i",forceCursorPointer:!0,frameCount:c.frame_count,frameRate:c.frame_rate||83,framesPerCol:c.frames_per_column,framesPerRow:c.frames_per_row,sourceHeight:e.height,sourceURI:c.image.uri,sourceWidth:e.width,spriteURI:a,packName:c.pack.name,paddedSpriteURI:d,stickerID:c.id})))}.bind(this))};a.propTypes={allowCustomStickers:c.bool,height:c.number,onScroll:c.func,onStickerClick:c.func.isRequired,onStickerKeyDown:c.func.isRequired,recentStickers:c.array.isRequired,stickerInterface:c.oneOf(b("getObjectValues")(b("StickerInterfaces"))),size:c.oneOf(Object.values(b("AddCommentFlyoutSizeType")))};a.defaultProps={allowCustomStickers:!1,stickerInterface:b("StickerInterfaces").MESSAGES,size:b("AddCommentFlyoutSizeType").SMALL};var t=function(a,c,d,e,f,g){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"frame_count",kind:"Field",metadata:{},type:"Int"},{fieldName:"frame_rate",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_column",kind:"Field",metadata:{},type:"Int"},{fieldName:"frames_per_row",kind:"Field",metadata:{},type:"Int"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(a)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(c)}],children:[{fieldName:"height",kind:"Field",metadata:{},type:"Int"},{fieldName:"width",kind:"Field",metadata:{},type:"Int"},{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(d)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(e)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"sprite_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:b("react-relay/classic/query/RelayQL").__var(f)},{kind:"Call",metadata:{type:"Int"},name:"height",value:b("react-relay/classic/query/RelayQL").__var(g)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"padded_sprite_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"is_comments_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"pack",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StickerPack"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelectorRelayQL",type:"Sticker"}}(d,d,d,d,d,d);e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{initialVariables:{stickerInterface:b("StickerInterfaces").MESSAGES},fragments:{stickers_for_pack:function(){return function(a){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e3}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StickersInPackEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"stickers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"StickersInPackConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_packRelayQL",type:"StickerPack"}}(t)},stickers_for_search:function(a){a.stickerInterface;return function(a){return{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:40}}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"StickerSearchResultsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"sticker_results",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"StickerSearchResultsConnection"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_searchRelayQL",type:"StickerSearchQuery"}}(t)},stickers_for_mru_pack:function(){return function(a,c){return{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:b("react-relay/classic/query/RelayQL").__var(a)}],children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay/classic/query/RelayQL").__frag(c)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"RecentlyUsedStickersEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"recently_used_stickers",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"RecentlyUsedStickersConnection"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutStickerSelector_Stickers_for_mru_packRelayQL",type:"Viewer"}}(b("StickersConfig").max_mru_stickers,t)}}})}),null);
__d("StickersFlyoutStickersForMRUPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForMRUPackRoute";a.queries={stickers_for_mru_pack:function(a){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutStickersForMRUPackRoute",type:"Viewer"}}(a.getFragment("stickers_for_mru_pack"))}};e.exports=a}),null);
__d("StickersFlyoutStickersForPackRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForPackRoute";a.paramDefinitions={id:{required:!0,type:"String"}};a.queries={stickers_for_pack:function(a){return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"id"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Query",metadata:{isAbstract:!0,identifyingArgName:"id",identifyingArgType:"ID!"},name:"StickersFlyoutStickersForPackRoute",type:"Node"}}(a.getFragment("stickers_for_pack"))}};e.exports=a}),null);
__d("StickersFlyoutStickersForSearchRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutStickersForSearchRoute";a.paramDefinitions={query:{required:!0,type:"String"},stickerInterface:{required:!0,type:"String"}};a.queries={stickers_for_search:function(a,c){c=c.stickerInterface;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"query"}}],children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"sticker_search",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"StickersFlyoutStickersForSearchRoute",type:"StickerSearchQuery"}}(a.getFragment("stickers_for_search",{stickerInterface:c}))}};e.exports=a}),null);
__d("StickersFlyoutTags.react",["cx","Grid.react","Image.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","ScrollableArea.react","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Grid.react").GridItem;a=function(a){var c=a.tags.sticker_store.sticker_tags.edges.filter(function(a){return a.node.thumbnail_image.uri!==null}).sort(function(a,b){return a.node.order-b.node.order}).map(function(c,d){return b("React").createElement(h,{key:d,className:"_3iqe"},b("React").createElement("div",{className:"_t5c"+(d<2?" _1b27":"")+(d%2===0?" _t5d":"")+(d%2!==0?" _t5e":"")},b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:c.node.thumbnail_image.uri}),label:c.node.name,onClick:function(){return a.onTagSelect(c.node)},className:"_5jdu",style:{background:"#"+c.node.color_code},disabled:a.inputDisabled})))});return b("React").createElement(b("ScrollableArea.react"),{height:a.height,width:a.width,shadow:!0,fade:!0,className:"_5jei"},b("React").createElement(b("Grid.react"),{spacing:"pas",cols:2,fixed:!0},c))};e.exports=b("RelayClassic_DEPRECATED").createContainer(a,{fragments:{tags:function(){return function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{type:"StickerTagType"},name:"sticker_tag_type",value:{kind:"CallValue",callValue:"FEATURED"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:20}}],children:[{children:[{children:[{fieldName:"order",kind:"Field",metadata:{},type:"Int"},{fieldName:"color_code",kind:"Field",metadata:{},type:"String"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerTag"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"AllStickerTagsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"sticker_tags",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"AllStickerTagsConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],id:b("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersFlyoutTags_TagsRelayQL",type:"Viewer"}}()}}})}),null);
__d("StickersFlyoutTagsRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="StickersFlyoutTagsRoute";a.queries={tags:function(a){return function(a){return{children:[].concat.apply([],[b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersFlyoutTagsRoute",type:"Viewer"}}(a.getFragment("tags"))}};e.exports=a}),null);
__d("StickersFlyoutTagSelector.react",["cx","fbt","AddCommentFlyoutSizeType","Banzai","React","react-relay/classic/container/RelayRootContainer","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForSearchRoute","StickersFlyoutTags.react","StickersFlyoutTagsRoute","StickerInterfaces","StickersTypedLogger","StickerUtils","UFISearchInput.react","XUISpinner.react","debounce","getObjectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=320,j=257,k=278,l=324,m=46,n=38,o=b("debounce")(function(a){if(!a||a.length<2)return;new(b("StickersTypedLogger"))().setEvent("search_sticker").setSearchtoken(a).log()},1e3);c=b("React").createClass({displayName:"StickersFlyoutTagSelector",propTypes:{onStickerClick:a.func.isRequired,onStickerKeyDown:a.func.isRequired,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),shown:a.bool,size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType")))},getInitialState:function(){return{input:"",isScrolling:!1,tagChosen:!1}},getDefaultProps:function(){return{stickerInterface:b("StickerInterfaces").MESSAGES,size:b("AddCommentFlyoutSizeType").SMALL}},componentDidMount:function(){this._focusInput()},UNSAFE_componentWillReceiveProps:function(a){a.shown&&!this.props.shown&&this.setState(this.getInitialState(),this._focusInput)},shouldComponentUpdate:function(a){return a.shown},render:function(){return b("React").createElement("div",{className:"_217a"+(this.state.isScrolling?" _1hg1":"")},b("React").createElement(b("UFISearchInput.react"),{onClick:function(a){return a&&a.stopPropagation()},onChange:this._inputChanged,onClear:this._handleResetButtonClick,placeholder:h._("Search stickers"),ref:"inputField",value:this.state.input||""}),this._renderContentArea())},_renderContentArea:function(){__p&&__p();var a=this.props.size==="small"?i-m:j-n,c=this.props.size==="small"?k:l,d=this._normalizeInput(this.state.input),e=b("React").createElement("div",{className:"_e0r"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));if(this.state.tagChosen||d.length>1){o(d);return b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutStickerSelector.react"),route:new(b("StickersFlyoutStickersForSearchRoute"))({query:d,stickerInterface:this.props.stickerInterface}),renderLoading:function(){return e},renderFetched:function(c){return b("React").createElement(b("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},c,{ref:"selector",height:a,onScroll:this._onScroll,onStickerClick:this._onStickerClick,onStickerKeyDown:this.props.onStickerKeyDown,recentStickers:[],stickerInterface:this.props.stickerInterface,size:this.props.size}))}.bind(this)})}else return b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutTags.react"),route:new(b("StickersFlyoutTagsRoute"))(),renderLoading:function(){return e},renderFetched:function(e){return b("React").createElement(b("StickersFlyoutTags.react"),babelHelpers["extends"]({},e,{height:a-m,inputDisabled:d.length===1,onTagSelect:this._selectTag,width:c-16}))}.bind(this)})},_onScroll:function(a){this.setState({isScrolling:!!a})},_selectTag:function(a){new(b("StickersTypedLogger"))().setEvent("select_tag").setTagid(a.id).log(),this.setState({tagChosen:!0,input:b("StickerUtils").capitalizeWords(a.name)}),this._focusInput()},_normalizeInput:function(a){return a.trim().replace(/\s+/," ").toLowerCase()},_handleResetButtonClick:function(a){a.preventDefault(),this.setState(this.getInitialState())},_inputChanged:function(a){this.setState({input:a.target.value,tagChosen:!1,isScrolling:!1})},_focusInput:function(){this.refs.inputField.focusInput&&this.refs.inputField.focusInput()},_onStickerClick:function(a,event){this.props.onStickerClick(a,event);try{if(b("Banzai").isEnabled("sticker_search_ranking")){a={query:this._normalizeInput(this.state.input),sticker_id:a.id};b("Banzai").post("sticker_search_click",a,b("Banzai").VITAL)}}catch(a){}}});e.exports=c}),null);
__d("StickersFlyout.react",["cx","fbt","AddCommentFlyoutSizeType","GamerGraphUserActionsTypedLogger","GamesVideoPageCustomStickerPackQueryWebGraphQLQuery","Keys","MessagesEmoticons.react","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","StickerConstants","StickerInterfaces","StickersActions","StickersConfig","StickersDispatcher","StickersFlyoutPackSelector.react","StickersFlyoutPackSelectorRoute","StickersFlyoutStickerSelector.react","StickersFlyoutStickersForMRUPackRoute","StickersFlyoutStickersForPackRoute","StickersFlyoutTagSelector.react","StickersStateStore","StickersTypedLogger","WebGraphQL","XUISpinner.react","getObjectValues","idx","joinClasses","promiseDone","react-relay/classic/container/RelayRootContainer"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=b("StickerConstants").SEARCH_PACK_ID,j=["Enter"," "];c=b("React").createClass({displayName:"StickersFlyout",mixins:[b("ReactComponentWithPureRenderMixin"),b("PureStoreBasedStateMixin")(b("StickersStateStore"))],statics:{calculateState:function(){var a=b("StickersStateStore").getState();return{packID:a.get("trayPackID"),trayLoaded:a.get("trayLoaded")}}},propTypes:{allowCustomStickers:a.bool,customStickerOwnerID:a.string,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),onStickerSelect:a.func.isRequired,onEmoticonSelect:a.func,onShown:a.func,onHidden:a.func,onEscKeyDown:a.func,shown:a.bool,size:a.oneOf(Object.values(b("AddCommentFlyoutSizeType")))},getDefaultProps:function(){return{allowCustomStickers:!1,customStickerOwnerID:"",stickerInterface:b("StickerInterfaces").MESSAGES,shown:!1,size:b("AddCommentFlyoutSizeType").SMALL}},UNSAFE_componentWillMount:function(){b("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},componentDidMount:function(){this.props.allowCustomStickers&&b("promiseDone")(b("WebGraphQL").exec(new(b("GamesVideoPageCustomStickerPackQueryWebGraphQLQuery"))({pageID:this.props.customStickerOwnerID})),function(a){a=(a=a)!=null?(a=a.page)!=null?a.custom_sticker_pack:a:a;a&&b("StickersActions").selectTrayPack(a.id)}),this.props.shown&&this._onShown()},UNSAFE_componentWillReceiveProps:function(a){a.shown?this._onShownWrapper():this._onHidden()},componentDidUpdate:function(a){!a.shown&&this.props.shown?this._onShown():a.shown&&!this.props.shown&&this._onHidden()},_onShownWrapper:function(){this.props.onShown?this.props.onShown(this._onShown):this._onShown()},_onShown:function(){new(b("StickersTypedLogger"))().setEvent("open_tray").log()},_onHidden:function(){this.props.onHidden&&this.props.onHidden()},_onKeyDown:function(event){event.keyCode===b("Keys").ESC&&this.props.onEscKeyDown&&(event.stopPropagation(),event.preventDefault(),this.props.onEscKeyDown())},_onKeyPress:function(event){this.state.packID!==i&&j.indexOf(event.key)===-1&&b("StickersActions").selectTrayPack(i)},loadPack:function(){__p&&__p();var a=b("React").createElement("div",{className:"_e0r"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));if(!this.state.trayLoaded)return a;if(this.state.packID===b("StickerConstants").EMOTICON_PACK_ID)return b("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},b("React").createElement(b("MessagesEmoticons.react"),{onEmoticonSelect:this.props.onEmoticonSelect}));if(this.state.packID===i&&b("StickersConfig").search_pack)return b("React").createElement("div",{className:"_5r8l"},b("React").createElement(b("StickersFlyoutTagSelector.react"),{className:"fbStickersFlyoutTagSelector",stickerInterface:this.props.stickerInterface,shown:this.props.shown,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}));var c=this.state.packID===b("StickerConstants").MRU_STICKER_PACK?new(b("StickersFlyoutStickersForMRUPackRoute"))():new(b("StickersFlyoutStickersForPackRoute"))({id:this.state.packID});return b("React").createElement("div",{className:"_5r8l","data-id":this.state.packID},b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutStickerSelector.react"),route:c,renderLoading:function(){return a},renderFetched:function(a){return b("React").createElement(b("StickersFlyoutStickerSelector.react"),babelHelpers["extends"]({},a,{allowCustomStickers:this.props.allowCustomStickers,recentStickers:b("StickersStateStore").getState().get("recentStickers"),stickerInterface:this.props.stickerInterface,onStickerClick:this._onStickerClick,onStickerKeyDown:this._onStickerKeyDown,size:this.props.size}))}.bind(this)}))},_onStickerClick:function(a,event){b("StickersStateStore").getState().get("recentStickersLoaded")&&b("StickersActions").addRecentSticker(a);this.props.onStickerSelect(a.id,event,{label:a.label,uri:(a=a)!=null?(a=a.image)!=null?a.uri:a:a});this.props.allowCustomStickers&&this._logCustomStickerEvent()},_onStickerKeyDown:function(a,event){event.keyCode===b("Keys").RETURN&&(event.stopPropagation(),event.preventDefault(),this.props.onStickerSelect(a.id,event,{label:a.label}),this.props.allowCustomStickers&&this._logCustomStickerEvent())},_logCustomStickerEvent:function(){new(b("GamerGraphUserActionsTypedLogger"))().setEvent("send_custom_sticker").log()},render:function(){return b("React").createElement("div",{"aria-label":h._("Stickers"),className:b("joinClasses")(this.props.className,"_5r8f"),onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,role:"dialog"},this.props.allowCustomStickers?null:b("React").createElement("div",{className:"_5r8e"},b("React").createElement(b("react-relay/classic/container/RelayRootContainer"),{Component:b("StickersFlyoutPackSelector.react"),route:new(b("StickersFlyoutPackSelectorRoute"))({stickerInterface:this.props.stickerInterface}),renderFetched:function(a){return b("React").createElement(b("StickersFlyoutPackSelector.react"),babelHelpers["extends"]({},a,{selectedPackID:this.state.packID,stickerInterface:this.props.stickerInterface,shown:this.props.shown}))}.bind(this)})),b("React").createElement("div",{className:this.props.allowCustomStickers?this.props.size===b("AddCommentFlyoutSizeType").SMALL?"_4827":"_67xe":"_5r8m"},this.loadPack()))}});e.exports=c}),null);
__d("ReactComposerStickerToggleController.react",["cx","invariant","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerTaggerActions","StickerInterfaces","StickersFlyout.react","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerStickerToggleController",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{taggerID:a.string.isRequired,loggingName:a.oneOf(Object.values(b("ReactComposerLoggingName"))).isRequired,children:a.any,showFlyout:a.bool.isRequired},render:function(){return b("React").createElement("span",{onClick:this._onSelect,role:"presentation"},b("React").createElement("span",{className:"_4mvf",ref:"container"},this.props.children),this._renderStickerFlyout())},_renderStickerFlyout:function(){return!this.props.showFlyout?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerTabIsolation:b("LayerTabIsolation")},contextRef:function(){return this.refs.container}.bind(this),onBlur:this._hideFlyout,onToggle:function(a){!a&&this.props.showFlyout&&this._hideFlyout()}.bind(this),position:"below",shown:this.props.showFlyout,hasActionableContext:!0,width:278},b("React").createElement("div",null,b("React").createElement(b("StickersFlyout.react"),{onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:b("StickerInterfaces").POSTS,shown:this.props.showFlyout})))},_onSelect:function(){b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.loggingName,this.props.taggerID,!1)},_hideFlyout:function(){this.props.showFlyout&&b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.props.loggingName)},_onStickerSelected:function(a,event,c){b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,{stickerID:a,accessibilityLabel:c?c.label:""}),this._hideFlyout(),b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onEmoticonSelected:function(a){h(0)}});e.exports=c}),null);
__d("FundraiserComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","DOM","DOMQuery","DOMScroll","Event","ReloadPage","Run","ViewportTrackingHelper","$","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1,i={},j=void 0;function k(a){if(!a.streamStory){b("ReloadPage").now();return}l.renderStory(a.streamStory);b("ComposerXMarauderLogger").logCompleted(i.id)}var l={init:function(a){i=b("$")(a),j=b("Arbiter").subscribe("composer/publish",function(event,a){i&&a.composer_id===i.id&&k(a)}),b("Run").onLeave(l.destroy),h&&b("Run").onAfterLoad(function(){setTimeout(l.focus,0)})},destroy:function(){j&&j.unsubscribe()},renderStory:function(a){var c=b("ge")("pagelet_fundraiser_feed");if(c===null)return null;b("DOM").prependContent(c,a);b("Bootloader").loadModules(["Animation"],function(b){new b(a).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(b.ease.both).go()},"FundraiserComposer");return a},setAutofocus:function(a){h=a},addFocusTrigger:function(a){b("Event").listen(a,"click",l.focus)},focus:function(){l._scrollIntoView(function(){var a=b("DOMQuery").scry(i,"textarea");if(a[0])a[0].focus();else{a=b("DOMQuery").scry(i,"._5yk2");a[0]&&a[0].click()}})},_scrollIntoView:function(a){if(b("ViewportTrackingHelper").isVisible(i,200)){a();return}b("DOMScroll").scrollTo(i,750,!0,0,0,a)}};e.exports=l}),null);
__d("ReactFundraiserComposer.react",["cx","BootloadedComponent.react","FundraiserComposer","JSResource","React","ReactComposerWithSprouts.react","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerBodyContainer.react","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerStatusDonateButtonActions.react","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerFocusInit","ReactComposerLazyHeader.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerPrefillConfig","ReactComposerPrefillStore","ReactComposerPrefillUtils","ReactComposerSproutsLiveVideoDialogSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerStatusEagerAttachment.react","ReactComposerSproutsStatusAndMediaSelector.react","XUISpinner.react","$","idx","ReactComposerStatusDonateButtonStore"],(function(a,b,c,d,e,f,g){__p&&__p();b("ReactComposerStatusDonateButtonStore");a=b("React").createClass({displayName:"ReactFundraiserComposer",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,config:b("ReactComposerConfig").isRequired,prefillConfig:b("ReactComposerPrefillConfig").isRequired},componentDidMount:function(){b("FundraiserComposer").init(this.props.contextConfig.composerID);b("ReactComposerAudienceActions").setPrivacyxNullDangerous(this.props.contextConfig.composerID,!0);this.props.prefillConfig&&b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig);var a=b("ReactComposerPrefillStore").getAndEraseField(this.props.contextConfig.composerID,"donateConfig");a&&(b("ReactComposerStatusDonateButtonActions.react").setConfig(this.props.contextConfig.composerID,a),b("ReactComposerStatusDonateButtonActions.react").setData(this.props.contextConfig.composerID,a.charityName,""),b("ReactComposerStatusDonateButtonActions.react").setEnabled(this.props.contextConfig.composerID,!0));a=(a=this.props)!=null?(a=a.config)!=null?(a=a.actorConfig)!=null?a.willShowActorSelector:a:a:a;if(!a&&this.props.contextConfig.gks.shouldBlurOnFocus){b("ReactComposerFocusInit").handler(b("$")("fundraiser_composer_container"),this.props.contextConfig.composerID,this.props.contextConfig.actorID,this.props.contextConfig.gks,(a=this.props.contextConfig)!=null?(a=a.jsModules)!=null?a.composerFocus:a:a,!0)}},render:function(){var a=this.props.config.attachmentsConfig,c=this.props.contextConfig.gks.shouldShowLive;return b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{sproutsConfig:this.props.config.sproutsConfig,loggingConfig:this.props.config.loggingConfig},ref:"root"},b("React").createElement(b("ReactComposerLazyHeader.react"),{background:"light-wash",noHorizontalMargin:!0,rightChild:this._renderActorSelector(),showDelimiter:!1},b("React").createElement(b("ReactComposerSproutsStatusAndMediaSelector.react"),{key:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:a[b("ReactComposerAttachmentType").STATUS].tabTitle,statusOnly:!1}),b("React").createElement(b("ReactComposerSproutsMediaSelector.react"),{key:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,config:this.props.config}),c?b("React").createElement(b("ReactComposerSproutsLiveVideoDialogSelector.react"),{key:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,contextConfig:this.props.contextConfig,config:this.props.config}):null),b("React").createElement(b("ReactComposerBodyContainer.react"),{expanded:!0,hasMinHeight:!1},b("React").createElement(b("ReactComposerStatusEagerAttachment.react"),{key:"status",config:this.props.config,selected:!0,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),placeholder:a[b("ReactComposerAttachmentType").STATUS].placeholder}),b("React").createElement(b("ReactComposerMediaEagerAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerFeedMediaPostButtonContainer.react"),selected:!1}),c?b("React").createElement(b("ReactComposerLiveVideoLazyAttachment.react"),{key:"live_video",config:this.props.config,postButtonModule:b("ReactComposerLiveVideoPreviewButton.react"),selected:!1}):null))},_renderActorSelector:function(){var a=this.props.config.actorConfig;a.composerID=this.props.contextConfig.composerID;return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},a,{bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{className:"_3igw"}),bootloadLoader:b("JSResource")("ReactComposerActorSelectorContainer.react").__setRef("ReactFundraiserComposer.react")}))}});e.exports=a}),null);
__d("XWifiAuthReleaseAccessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/wifiauth/release_access/",{gw_id:{type:"FBID",required:!0},redirect_mac:{type:"String",required:!0},redirect_url:{type:"String",required:!0},login_type:{type:"Enum",required:!0,enumType:0}})}),null);
__d("ReactSocialWifiComposer.react",["fbt","Arbiter","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedPostButtonContainer.react","ReactComposerLazyHeader.react","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerPrefillUtils","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerStatusEagerAttachment.react","ReactComposerWithSprouts.react","React","SocialWifiLoginType","XWifiAuthReleaseAccessController","goURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=a.shape({gw_id:a.string.isRequired,redirect_mac:a.string.isRequired,redirect_url:a.string.isRequired});d=b("React").createClass({displayName:"ReactSocialWifiComposer",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,config:b("ReactComposerConfig").isRequired,prefillConfig:b("ReactComposerPrefillConfig").isRequired,gateway:c.isRequired},UNSAFE_componentWillMount:function(){b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig),b("Arbiter").subscribe(b("ReactComposerEvents").POST_SUCCEEDED+this.props.contextConfig.composerID,function(){b("goURI")(b("XWifiAuthReleaseAccessController").getURIBuilder().setFBID("gw_id",this.props.gateway.gw_id).setString("redirect_mac",this.props.gateway.redirect_mac).setString("redirect_url",this.props.gateway.redirect_url).setEnum("login_type",b("SocialWifiLoginType").CHECKIN).getURI())}.bind(this))},render:function(){var a=this.props.config.attachmentsConfig;a=[b("React").createElement(b("ReactComposerSproutsStatusAndMediaSelector.react"),{key:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,label:a[b("ReactComposerAttachmentType").STATUS].tabTitle,statusOnly:!1})];return b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig},ref:"root"},b("React").createElement(b("ReactComposerLazyHeader.react"),{background:"light-wash",noHorizontalMargin:!0,showDelimiter:!1},a),b("React").createElement(b("ReactComposerBodyContainer.react"),null,b("React").createElement(b("ReactComposerStatusEagerAttachment.react"),{key:"status",config:this.props.config,selected:!0,postButtonModule:b("ReactComposerFeedPostButtonContainer.react"),postButtonLabel:g._("Check In"),prefillConfig:this.props.prefillConfig})))}});e.exports=d}),null);
__d("ReactComposerGIFSproutContainer.react",["cx","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerGIFToggleController.react","ReactComposerTaggerStore","ReactComposerScrapedAttachmentStore","ReactComposerMediaUploadStore","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(){return[b("ReactComposerTaggerStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerMediaUploadStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{highlighted:b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").GIF),isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").GIF),isSelected:b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").GIF}};a.prototype.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ReactComposerGIFToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,spanClassName:"_4mvf",loggingName:this.props.uiConfig.loggingName}),b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};function a(){h.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").GIF]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerLocationSproutContainer.react",["React","FluxContainer","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ReactComposerTaggerStore","ExtensibleSproutsItemType","ReactComposerDisabledSproutItem.react","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("ReactComposerTaggerStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").LOCATION)}};a.prototype.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:b("ReactComposerTaggerType").LOCATION})};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").LOCATION]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerMediaSproutContainer.react",["fbt","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaSprout.react","ReactComposerMediaUploadStore","ReactComposerContextTypes","FluxContainer","React","ReactComposerTaggerActions","ReactComposerTaggerStore","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.setState({showPagePostTemplateNux:!1}),b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,"page_post_template",!1)}.bind(this),c}a.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerTaggerStore")]};a.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(d.composerID,b("ReactComposerAttachmentType").MEDIA);c=b("ReactComposerMediaUploadStore").getUploadsCount(d.composerID);d=b("ReactComposerTaggerStore").shouldShowNUX(d.composerID,"page_post_template");return{highlighted:!!c&&a,showPagePostTemplateNux:d}};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("ReactComposerMediaSprout.react"),babelHelpers["extends"]({config:this.props.config,mediaType:"MEDIA",ref:"mediaSprout"},this.props,this.state)),b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.mediaSprout}.bind(this),onCloseButtonClick:this.$1,position:"left",shown:this.state.showPagePostTemplateNux},g._("Posts with photos typically get more engagement.")))};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerPeopleSproutContainer.react",["React","ReactComposerSproutsDefaultUIConfig","ReactComposerTaggerSproutContainer.react","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ReactComposerTaggerSproutContainer.react"),{uiConfig:this.props.uiConfig,taggerID:b("ReactComposerTaggerType").PEOPLE})};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").WITH_TAG]};e.exports=a}),null);
__d("ReactComposerStickerSproutContainer.react",["FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerDisabledSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStickerToggleController.react","ReactComposerTaggerStore","ReactComposerTaggerType","ExtensibleSproutsItemType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("ReactComposerTaggerStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{highlighted:b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").STICKER),isDisabled:b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").STICKER),isSelected:b("ReactComposerTaggerStore").getSelectedTagger(a)===b("ReactComposerTaggerType").STICKER}};a.prototype.render=function(){return this.state.isDisabled?b("React").createElement(b("ReactComposerDisabledSproutItem.react"),{uiConfig:this.props.uiConfig}):b("React").createElement(b("ReactComposerStickerToggleController.react"),babelHelpers["extends"]({},this.props,{showFlyout:this.state.isSelected,taggerID:b("ReactComposerTaggerType").STICKER,loggingName:this.props.uiConfig.loggingName}),b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted}))};function a(){g.apply(this,arguments)}a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").STICKER]};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);